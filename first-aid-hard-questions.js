// Дополнение к first-aid-questions.js - сложные вопросы для режима "Первая помощь"
(function() {
    // Ждем полной загрузки DOM
    document.addEventListener('DOMContentLoaded', function() {
        addFirstAidHardQuestions();
    });
    
    function addFirstAidHardQuestions() {
        // Проверяем, существует ли массив вопросов
        if (typeof window.questions === 'undefined') {
            console.error('Массив вопросов не существует. Создаем новый.');
            window.questions = [];
        }
        
        // Префикс для ID вопросов
        const PREFIX = 'fah_';
        
        // Вопросы для режима Первая помощь - СЛОЖНЫЙ УРОВЕНЬ
        const firstAidHardQuestions = [
            {
                id: PREFIX + '001',
                text: "Какой метод проверки проходимости дыхательных путей является предпочтительным у пострадавшего без сознания?",
                options: ["Запрокидывание головы и выдвижение нижней челюсти", "Только выдвижение нижней челюсти", "Только запрокидывание головы", "Поворот головы набок"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '002',
                text: "Какое соотношение компрессий грудной клетки к искусственным вдохам при СЛР ребенку в возрасте 7 лет?",
                options: ["15:2", "30:2", "5:1", "3:1"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '003',
                text: "Какова правильная глубина компрессий при СЛР ребенку?",
                options: ["Примерно 1/3 диаметра грудной клетки", "2-3 см независимо от возраста", "5-6 см независимо от возраста", "Максимально возможная глубина"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '004',
                text: "Укажите признак эффективности проводимой сердечно-легочной реанимации:",
                options: ["Расширение зрачков", "Появление пульса на сонной артерии", "Бледность кожных покровов", "Цианоз губ"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '005',
                text: "Что необходимо сделать в первую очередь при оказании помощи пострадавшему с химическим ожогом концентрированной кислотой?",
                options: ["Нейтрализовать слабым раствором щелочи", "Промыть большим количеством проточной воды", "Обработать место ожога спиртом", "Наложить сухую асептическую повязку"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '006',
                text: "Какой метод временной остановки артериального кровотечения является наиболее надежным?",
                options: ["Наложение давящей повязки", "Максимальное сгибание конечности", "Пальцевое прижатие артерии", "Наложение кровоостанавливающего жгута"],
                correctOptionIndex: 3,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '007',
                text: "Как правильно наложить кровоостанавливающий жгут в зимнее время?",
                options: ["Поверх одежды с запиской о времени наложения", "На голое тело с запиской о времени наложения", "Поверх одежды, не указывая время наложения", "На голое тело, не указывая время наложения"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '008',
                text: "На какое максимальное время можно накладывать кровоостанавливающий жгут в летнее время?",
                options: ["30 минут", "1 час", "2 часа", "3 часа"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '009',
                text: "Какой вид повязки накладывается при ранении грудной клетки с открытым пневмотораксом?",
                options: ["Давящая повязка", "Спиральная повязка", "Окклюзионная повязка", "Крестообразная повязка"],
                correctOptionIndex: 2,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '010',
                text: "В каком положении необходимо транспортировать пострадавшего с травмой грудной клетки и затрудненным дыханием?",
                options: ["Лежа на спине", "Лежа на животе", "В полусидячем положении", "Лежа на боку"],
                correctOptionIndex: 2,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '011',
                text: "Какие действия необходимо предпринять при наличии у пострадавшего признаков внутреннего кровотечения?",
                options: ["Дать обезболивающее и обильное питье", "Придать пострадавшему положение лежа с приподнятыми ногами, холод на область предполагаемого кровотечения", "Придать пострадавшему положение лежа с приподнятой головой", "Дать пострадавшему горячий чай и укутать"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '012',
                text: "Какой признак не является достоверным при определении перелома костей?",
                options: ["Патологическая подвижность", "Крепитация костных отломков", "Деформация конечности", "Гиперемия кожи в области травмы"],
                correctOptionIndex: 3,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '013',
                text: "Какое минимальное количество человек требуется для безопасного извлечения пострадавшего с подозрением на травму позвоночника из автомобиля?",
                options: ["Один", "Два", "Три", "Четыре"],
                correctOptionIndex: 2,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '014',
                text: "Какие признаки характерны для комы?",
                options: ["Отсутствие сознания, сохранение рефлексов", "Кратковременная потеря сознания, сохранение рефлексов", "Угнетение сознания, сохранение реакции на боль", "Отсутствие сознания и рефлексов"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '015',
                text: "Что необходимо сделать перед нанесением прекардиального удара?",
                options: ["Убедиться в отсутствии самостоятельного пульса у пострадавшего", "Определить наличие сознания у пострадавшего", "Попытаться привести пострадавшего в сознание", "Провести 30 компрессий грудной клетки"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '016',
                text: "Какой метод эвакуации используется для пострадавшего без сознания?",
                options: ["Переноска на спине", "Переноска на руках", "Переноска на плечах", "Переноска на носилках"],
                correctOptionIndex: 3,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '017',
                text: "Какой признак характерен для компрессионной травмы (синдрома длительного сдавления)?",
                options: ["Появление отека конечности после освобождения", "Отсутствие отека поврежденной конечности", "Гиперемия кожных покровов", "Снижение температуры конечности"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '018',
                text: "Как определить степень ожога у пострадавшего?",
                options: ["По интенсивности болевых ощущений", "По глубине поражения тканей", "По площади поврежденной поверхности", "По виду термического агента"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '019',
                text: "Какие признаки свидетельствуют о развитии анафилактического шока?",
                options: ["Повышение артериального давления, покраснение кожи", "Снижение артериального давления, бледность кожи, затруднение дыхания", "Повышение артериального давления, головная боль", "Потеря сознания, повышение артериального давления"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '020',
                text: "Как правильно применять карманную маску для искусственной вентиляции легких?",
                options: ["Прижать маску к лицу пострадавшего и сделать выдох", "Прижать маску к лицу пострадавшего так, чтобы нос и рот были закрыты, запрокинуть голову и сделать выдох в клапан", "Приложить маску ко рту пострадавшего и сделать выдох", "Приложить маску только к носу пострадавшего и сделать выдох"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '021',
                text: "Какой метод диагностики используется для определения степени нарушения сознания у пострадавшего?",
                options: ["Шкала комы Глазго", "Шкала AVPU", "Индекс Альговера", "Шкала Апгар"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '022',
                text: "Что характерно для геморрагического инсульта?",
                options: ["Постепенное развитие симптоматики, бледность кожных покровов", "Острое развитие симптоматики, головная боль, рвота, нарушение сознания", "Медленное развитие симптоматики, повышение температуры тела", "Острое развитие симптоматики, похолодание конечностей"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '023',
                text: "Какая манипуляция является правильной при электротравме?",
                options: ["Прекратить действие тока любым доступным способом", "Начинать проведение сердечно-легочной реанимации до прекращения действия тока", "Перетаскивать пострадавшего голыми руками", "Перемещать пострадавшего, не убедившись в прекращении действия тока"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '024',
                text: "Какой метод используется для извлечения инородного тела верхних дыхательных путей у беременной или тучной женщины?",
                options: ["Прием Геймлиха", "Толчки в грудную клетку", "Толчки в спину в сочетании с толчками в грудную клетку", "Надавливание в эпигастральной области"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '025',
                text: "Какое действие необходимо выполнить при подозрении на перелом костей таза?",
                options: ["Придать пострадавшему положение 'лягушки'", "Положить пострадавшего на жесткие носилки в положении 'лягушки'", "Уложить пострадавшего на спину на ровную поверхность, под колени подложить валик", "Уложить пострадавшего на бок в позе 'эмбриона'"],
                correctOptionIndex: 2,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '026',
                text: "Какое мероприятие выполняется при термическом ожоге с образованием пузырей?",
                options: ["Вскрытие пузырей", "Обработка пораженной поверхности спиртом", "Охлаждение поврежденной поверхности под струей холодной воды", "Смазывание пораженной поверхности маслом"],
                correctOptionIndex: 2,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '027',
                text: "Какие признаки характерны для правильно наложенного кровоостанавливающего жгута?",
                options: ["Прекращение кровотечения, отсутствие периферического пульса, бледность конечности", "Уменьшение кровотечения, сохранение периферического пульса", "Прекращение кровотечения, сильные болевые ощущения, посинение конечности", "Уменьшение кровотечения, отсутствие болевых ощущений"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '028',
                text: "Что является признаком перелома основания черепа?",
                options: ["Деформация черепа", "Нарушение речи", "Симптом 'очков', кровотечение или ликворея из носа или уха", "Потеря сознания"],
                correctOptionIndex: 2,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '029',
                text: "Какое действие необходимо выполнить при укусе змеи?",
                options: ["Наложить жгут выше места укуса", "Отсосать яд из ранки", "Иммобилизировать конечность, обеспечить покой и обильное питье", "Сделать разрез в месте укуса"],
                correctOptionIndex: 2,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '030',
                text: "Что является специфическим признаком отморожения?",
                options: ["Бледность кожи, потеря чувствительности", "Чувство жжения, покраснение кожи", "Образование пузырей с прозрачной жидкостью", "Гиперемия кожи, повышение температуры"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '031',
                text: "Какое действие необходимо предпринять в первую очередь при оказании помощи пострадавшему от теплового удара?",
                options: ["Перенести в прохладное место, обеспечить доступ свежего воздуха", "Дать обильное горячее питье", "Растереть кожу спиртом", "Дать обезболивающее средство"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '032',
                text: "Какое мероприятие проводится при утоплении с признаками клинической смерти?",
                options: ["Удаление воды из дыхательных путей путем надавливания на грудную клетку", "Немедленное начало сердечно-легочной реанимации", "Проведение искусственного дыхания без компрессий грудной клетки", "Стимуляция дыхания путем похлопывания по спине"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '033',
                text: "Какие действия выполняются при венозном кровотечении из конечности?",
                options: ["Наложение жгута выше раны", "Наложение давящей повязки", "Прижатие артерии", "Наложение жгута ниже раны"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '034',
                text: "Что не характерно для травматического шока?",
                options: ["Бледность кожных покровов", "Снижение артериального давления", "Учащение пульса", "Покраснение кожи, повышение артериального давления"],
                correctOptionIndex: 3,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '035',
                text: "Какие признаки характерны для капиллярного кровотечения?",
                options: ["Кровь ярко-алая, бьет струей или фонтаном", "Кровь темно-вишневая, вытекает медленно, непрерывной струей", "Кровь выделяется равномерно из всей раны, как из губки", "Кровотечение смешанного характера"],
                correctOptionIndex: 2,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '036',
                text: "Какое положение головы пострадавшего является наиболее правильным при проведении искусственной вентиляции легких?",
                options: ["Голова повернута набок", "Голова запрокинута назад", "Подбородок прижат к груди", "Голова находится в нейтральном положении"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '037',
                text: "Какой симптом не характерен для острого инфаркта миокарда?",
                options: ["Боль за грудиной давящего, сжимающего характера", "Одышка", "Бледность кожных покровов", "Снижение артериального давления и урежение пульса"],
                correctOptionIndex: 3,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '038',
                text: "Какая частота вдохов является оптимальной при проведении искусственной вентиляции легких взрослому человеку?",
                options: ["4-6 в минуту", "8-10 в минуту", "12-20 в минуту", "30-40 в минуту"],
                correctOptionIndex: 1,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '039',
                text: "Какой метод используется для измерения частоты дыхательных движений у пострадавшего?",
                options: ["По движению грудной клетки или живота", "По движению белой полоски под носом", "По запотеванию зеркала, поднесенного ко рту", "Прослушивание дыхательных шумов стетоскопом"],
                correctOptionIndex: 0,
                mode: "first_aid",
                difficulty: "hard"
            },
            {
                id: PREFIX + '040',
                text: "Какая манипуляция противопоказана при переломе ключицы?",
                options: ["Наложение повязки типа 'Дезо'", "Иммобилизация шиной Крамера", "Наложение восьмиобразной повязки", "Вправление отломков ключицы"],
                correctOptionIndex: 3,
                mode: "first_aid",
                difficulty: "hard"
            }
        ];
        
        // Добавляем вопросы в общий массив
        firstAidHardQuestions.forEach(question => {
            // Проверяем, нет ли дубликатов
            const existingQuestion = window.questions.find(q => q.id === question.id);
            if (!existingQuestion) {
                window.questions.push(question);
            }
        });
        
        console.log(`Добавлено ${firstAidHardQuestions.length} сложных вопросов для режима "Первая помощь"`);
    }
})();
