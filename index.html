<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –ö–≤–∏–∑</title>
    <link rel="stylesheet" href="style.css">
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ VK Bridge -->
    <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
    <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö -->
    <meta property="og:title" content="–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –ö–≤–∏–∑ ‚Äì –ø—Ä–æ–≤–µ—Ä—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è!">
    <meta property="og:description" content="–¢–µ—Å—Ç –ø–æ –º–µ–¥–∏—Ü–∏–Ω–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∂–∏–º–∞–º–∏: –∞–Ω–∞—Ç–æ–º–∏—è, –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ, —Ñ–∞—Ä–º–∞–∫–æ–ª–æ–≥–∏—è –∏ –ø–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å.">
    <meta property="og:image" content="https://vk.com/images/camera_100.png">
    <meta name="theme-color" content="#5a67d8">
    <!-- –î–æ–±–∞–≤–ª—è–µ–º favicon –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è 404 –æ—à–∏–±–∫–∏ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üë®‚Äç‚öïÔ∏è</text></svg>">
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="animated-bg"></div>
    
    <!-- –ü–ª–∞–≤–∞—é—â–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∏–∫–æ–Ω–∫–∏ -->
    <div class="medical-icons">
        <div class="medical-icon icon1"></div>
        <div class="medical-icon icon2"></div>
        <div class="medical-icon icon3"></div>
        <div class="medical-icon icon4"></div>
        <div class="medical-icon icon5"></div>
        <div class="medical-icon icon6"></div>
    </div>
    
    <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="start-screen">
        <div id="user-info" class="user-info"></div>
        <h1><span class="doctor-emoji">üë®‚Äç‚öïÔ∏è</span> –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –ö–≤–∏–∑</h1>
        
        <div class="difficulty-selection">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</h2>
            <button class="difficulty-btn active" data-difficulty="easy">–û–±—ã—á–Ω—ã–π</button>
            <button class="difficulty-btn" data-difficulty="hard">–°–ª–æ–∂–Ω—ã–π</button>
        </div>
        
        <div class="quiz-mode-selection">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º:</h2>
            <button class="quiz-mode-btn active" data-mode="anatomy">–ê–Ω–∞—Ç–æ–º–∏—è</button>
            <button class="quiz-mode-btn" data-mode="clinical">–ö–ª–∏–Ω–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ</button>
            <button class="quiz-mode-btn" data-mode="pharmacology">–§–∞—Ä–º–∞–∫–æ–ª–æ–≥–∏—è</button>
            <div id="mode-description" class="mode-description"></div>
        </div>
        
        <button id="start-quiz" class="btn-primary">–ù–∞—á–∞—Ç—å –∫–≤–∏–∑</button>
        
        <!-- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—É–ª—å—Å–æ–≤–∞—è –ª–∏–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö -->
        <div class="card-pulse">
            <svg class="pulse-line-svg" viewBox="0 0 150 40" preserveAspectRatio="none">
                <path class="pulse-line-path" d="M0,20 L10,20 L15,20 L20,10 L25,30 L30,20 L35,20 L40,20 L45,20 L50,20 L55,10 L60,30 L65,20 L70,20 L75,20 L80,20 L85,20 L90,10 L95,30 L100,20 L105,20 L110,20 L115,20 L120,20 L125,10 L130,30 L135,20 L140,20 L150,20">
                </path>
            </svg>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∫–≤–∏–∑–∞ -->
    <div id="quiz-container" style="display: none;">
        <div id="user-info-quiz" class="user-info"></div>
        <div id="question-counter" class="question-counter"></div>
        <div id="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <div id="timer" class="timer"></div>
        <div id="question" class="question"></div>
        <div id="options" class="options"></div>
        <div class="quiz-buttons">
            <button id="next-question" class="btn-primary" disabled>–î–∞–ª–µ–µ</button>
            <button id="exit-quiz" class="btn-secondary">–í—ã–π—Ç–∏</button>
        </div>
        
        <!-- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—É–ª—å—Å–æ–≤–∞—è –ª–∏–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö -->
        <div class="card-pulse">
            <svg class="pulse-line-svg" viewBox="0 0 150 40" preserveAspectRatio="none">
                <path class="pulse-line-path" d="M0,20 L10,20 L15,20 L20,10 L25,30 L30,20 L35,20 L40,20 L45,20 L50,20 L55,10 L60,30 L65,20 L70,20 L75,20 L80,20 L85,20 L90,10 L95,30 L100,20 L105,20 L110,20 L115,20 L120,20 L125,10 L130,30 L135,20 L140,20 L150,20">
                </path>
            </svg>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div id="results-container" style="display: none;">
        <h1><span class="doctor-emoji">üë®‚Äç‚öïÔ∏è</span> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞</h1>
        <div id="score" class="score">
            <div id="mode-badge" class="difficulty-badge">–ê–Ω–∞—Ç–æ–º–∏—è</div>
            <div id="difficulty-badge" class="difficulty-badge">–û–±—ã—á–Ω—ã–π</div>
            <div class="score-percentage"><span id="percentage">0</span>%</div>
            <div class="score-text">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: <span id="correct-answers">0</span> –∏–∑ <span id="total-questions-result">10</span></div>
        </div>
        <div class="results-buttons">
            <button id="share-results" class="btn-primary">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
            <button id="restart-quiz" class="btn-secondary">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>
        
        <!-- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—É–ª—å—Å–æ–≤–∞—è –ª–∏–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö -->
        <div class="card-pulse">
            <svg class="pulse-line-svg" viewBox="0 0 150 40" preserveAspectRatio="none">
                <path class="pulse-line-path" d="M0,20 L10,20 L15,20 L20,10 L25,30 L30,20 L35,20 L40,20 L45,20 L50,20 L55,10 L60,30 L65,20 L70,20 L75,20 L80,20 L85,20 L90,10 L95,30 L100,20 L105,20 L110,20 L115,20 L120,20 L125,10 L130,30 L135,20 L140,20 L150,20">
                </path>
            </svg>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫ -->
    <div id="tooltip-container" class="tooltip-container" style="display: none;">
        <div class="tooltip-content"></div>
    </div>

    <!-- –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ô –ü–û–†–Ø–î–û–ö –ó–ê–ì–†–£–ó–ö–ò –°–ö–†–ò–ü–¢–û–í -->
    <!-- 1. –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏–π —Ä–µ–∂–∏–º–æ–≤ (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ other-scripts) -->
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
        window.modeDescriptions = {
            'anatomy': '–í–æ–ø—Ä–æ—Å—ã –æ —Å—Ç—Ä–æ–µ–Ω–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Ç–µ–ª–∞, –æ—Ä–≥–∞–Ω–∞—Ö –∏ –∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö',
            'clinical': '–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∑–Ω–∞–Ω–∏–π –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –ª–µ—á–µ–Ω–∏—è –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π',
            'pharmacology': '–í–æ–ø—Ä–æ—Å—ã –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞—Ö, –∏—Ö –¥–µ–π—Å—Ç–≤–∏–∏ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏',
            'first_aid': '–ù–µ–æ—Ç–ª–æ–∂–Ω–∞—è –ø–æ–º–æ—â—å –ø—Ä–∏ —Ç—Ä–∞–≤–º–∞—Ö, –æ—Ç—Ä–∞–≤–ª–µ–Ω–∏—è—Ö –∏ –¥—Ä—É–≥–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö'
        };
    </script>
    
    <!-- 2. –ë–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="questions.js"></script>
    <script src="app.js"></script>
    
    <!-- 3. –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã –ø–µ—Ä–≤–æ–π –ø–æ–º–æ—â–∏ -->
    <script src="first-aid-questions.js"></script>
    
    <!-- 4. –ó–∞—Ç–µ–º —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∂–∏–º -->
    <script>
        // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç —Ä–µ–∂–∏–º–∞ –ø–µ—Ä–≤–æ–π –ø–æ–º–æ—â–∏ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
        window.addEventListener('load', function() {
            setTimeout(function() {
                var script = document.createElement('script');
                script.src = 'add-first-aid-mode.js';
                document.body.appendChild(script);
                console.log('–°–∫—Ä–∏–ø—Ç add-first-aid-mode.js –¥–æ–±–∞–≤–ª–µ–Ω —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π');
            }, 1000);
        });
    </script>
    
    <!-- 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π —Ä–µ–∂–∏–º–æ–≤ -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
            initModeDescriptions();
            
            function initModeDescriptions() {
                const modeDescription = document.getElementById('mode-description');
                const modeButtons = document.querySelectorAll('.quiz-mode-btn');
                
                if (!modeDescription) return;
                
                modeButtons.forEach(btn => {
                    btn.addEventListener('mouseover', function() {
                        const mode = this.dataset.mode;
                        if (window.modeDescriptions[mode]) {
                            modeDescription.textContent = window.modeDescriptions[mode];
                            modeDescription.classList.add('active-description');
                        }
                    });
                    
                    btn.addEventListener('mouseout', function() {
                        modeDescription.classList.remove('active-description');
                    });
                });
            }
        });
    </script>
    
    <!-- 6. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π VK -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof vkBridge !== 'undefined') {
                vkBridge.send('VKWebAppInit')
                    .then(() => {
                        console.log('VK Bridge —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
                        
                        document.getElementById('start-quiz').addEventListener('click', function() {
                            vkBridge.send('VKWebAppTrackEvent', {
                                event_name: 'quiz_started',
                                event_params: {
                                    mode: window.currentQuizMode || 'anatomy',
                                    difficulty: window.currentDifficulty || 'easy'
                                }
                            }).catch(console.error);
                        });
                    })
                    .catch(console.error);
            }
        });
    </script>
</body>
</html>
